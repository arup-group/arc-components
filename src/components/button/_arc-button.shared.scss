/**
 * ArcButton shared component styles.
 */
@use '../../styles/preferences' as preferences;

/* selector */
$selector: #{preferences.$prefix}button;

/* host styles */
@mixin host-styles {
  display: inline-block;
  position: relative;
  width: auto;
  cursor: pointer;
  --min-width: 0;
  --btn-color: rgb(var(--arc-input-color));
  --btn-background: initial;
}

/* host tab styles */
@mixin host-tab-styles {
  height: 100%;
}

/* component styles */
@mixin component-styles {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: var(--min-width);
  height: var(--button-size);
  border: none;
  border-radius: var(--button-size);
  font-weight: var(--arc-font-weight-semibold);
  font-family: var(--arc-font-button);
  font-size: inherit;
  letter-spacing: inherit;
  text-decoration: none;
  user-select: none;
  white-space: nowrap;
  vertical-align: middle;
  padding: 0 var(--button-spacing);
  cursor: inherit;
  color: var(--btn-color);
  background-color: var(--btn-background);
  gap: var(--arc-spacing-small);
  outline: none;
  -webkit-appearance: none;

  &--loader {
    position: absolute;
    --stroke-color: var(--btn-color);
  }

  /* filled button type */

  /* outlined button type */
  &#{&}--type-outlined {
    border: var(--arc-border-style) var(--arc-border-width);
    background: none;
  }

  /* tab button type */
  &#{&}--type-tab {
    background: none;
    border-radius: 0;
  }

  &#{&}--type-tab#{&}--active {
    border-bottom: calc(var(--arc-border-width) * 2) var(--arc-border-style) currentColor;
  }

  /* small button size */
  &#{&}--size-small {
    --button-size: var(--arc-input-height-small);
    --button-spacing: var(--arc-spacing-small);
  }

  /* medium button size */
  &#{&}--size-medium {
    --button-size: var(--arc-input-height-medium);
    --button-spacing: var(--arc-spacing-medium);
  }

  /* large button size */
  &#{&}--size-large {
    --button-size: var(--arc-input-height-large);
    --button-spacing: var(--arc-spacing-large);
  }

  /* default button color */
  #{&}#{&}--color-default {
    --btn-background: rgb(var(--arc-color-default));
    --focus-color: rgba(var(--arc-input-color), 0.4);
  }

  /* default button color for filled button type */
  &#{&}--type-filled#{&}--color-default {
    --btn-background: rgb(var(--arc-color-default));
    --focus-color: rgba(var(--arc-input-color), 0.4);
  }

  /* primary button color for filled button type */
  &#{&}--type-filled#{&}--color-primary {
    --btn-color: rgb(var(--arc-container-color));
    --btn-background: rgb(var(--arc-color-primary));
    --focus-color: rgba(var(--arc-color-primary), 0.4);
  }

  /* primary button color for outlined button type */
  &#{&}--type-outlined#{&}--color-primary {
    --btn-color: rgb(var(--arc-color-primary));
  }

  /* secondary button color for filled button type */
  &#{&}--type-filled#{&}--color-secondary {
    --btn-color: rgb(var(--arc-container-color));
    --btn-background: rgb(var(--arc-color-secondary));
    --focus-color: rgba(var(--arc-color-secondary), 0.4);
  }

  /* secondary button color for outlined button type */
  &#{&}--type-outlined#{&}--color-secondary {
    --btn-color: rgb(var(--arc-color-secondary));
  }

  /* error button color for filled button type */
  &#{&}--type-filled#{&}--color-error {
    --btn-background: rgb(var(--arc-color-error));
    --focus-color: rgba(var(--arc-color-error), 0.4);
  }

  /* error button color for outlined button type */
  &#{&}--type-outlined#{&}--color-error {
    --btn-color: rgb(var(--arc-color-error));
  }

  /* warning button color for filled button type */
  &#{&}--type-filled#{&}--color-warning {
    --btn-background: rgb(var(--arc-color-warning));
    --focus-color: rgba(var(--arc-color-warning), 0.4);
  }

  /* warning button color for outlined button type */
  &#{&}--type-outlined#{&}--color-warning {
    --btn-color: rgb(var(--arc-color-warning));
  }

  /* info button color for filled button type */
  &#{&}--type-filled#{&}--color-info {
    --btn-background: rgb(var(--arc-color-info));
    --focus-color: rgba(var(--arc-color-info), 0.4);
  }

  /* info button color for outlined button type */
  &#{&}--type-outlined#{&}--color-info {
    --btn-color: rgb(var(--arc-color-info));
  }

  /* success button color for filled button type */
  &#{&}--type-filled#{&}--color-success {
    --btn-background: rgb(var(--arc-color-success));
    --focus-color: rgba(var(--arc-color-success), 0.4);
  }

  /* success button color for outlined button type */
  &#{&}--type-outlined#{&}--color-success {
    --btn-color: rgb(var(--arc-color-success));
  }

  /* hover and focus-visible states for filled button type */
  &#{&}--type-filled:hover:not(&:disabled):not(&--disabled):not(&--loading),
  &#{&}--type-filled:focus-visible:not(&:disabled):not(&--loading) {
    background-image: linear-gradient(var(--arc-hover-dark) 0 0);
  }

  /* active state for filled button type */
  &#{&}--type-filled:active:not(&:disabled):not(&--disabled):not(&--loading) {
    background-image: linear-gradient(var(--arc-hover-darker) 0 0);
  }

  /* hover and focus-visible states for tab and outlined button type */
  &#{&}--type-tab:hover:not(&:disabled):not(&--disabled):not(&--loading),
  &#{&}--type-tab:focus-visible:not(&:disabled):not(&--disabled):not(&--loading),
  &#{&}--type-outlined:hover:not(&:disabled):not(&--disabled):not(&--loading),
  &#{&}--type-outlined:focus-visible:not(&:disabled):not(&--disabled):not(&--loading){
    background-color: currentColor;
    background-image: linear-gradient(var(--arc-hover-lighter) 0 0);
  }

  /* active state or tab and outlined button type */
  &#{&}--type-tab:active:not(&:disabled):not(&--disabled):not(&--loading),
  &#{&}--type-outlined:active:not(&:disabled):not(&--disabled):not(&--loading) {
    background-image: linear-gradient(var(--arc-hover-light) 0 0);
  }

  /* focus-visible state outline for all button types */
  &:focus-visible:not(&:disabled):not(&--disabled) {
    box-shadow: var(--arc-box-shadow-focus) var(--focus-color);
  }

  /* disabled */
  &:disabled,
  &#{&}--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* loading */
  &#{&}--loading {
    cursor: wait;
  }

  &#{&}--loading #{&}--prefix,
  &#{&}--loading #{&}--label,
  &#{&}--loading #{&}--suffix {
    visibility: hidden;
  }
}
