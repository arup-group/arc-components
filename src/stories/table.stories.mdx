import { Meta } from '@storybook/addon-docs';

<Meta title="Tables"/>

# ARC tables
ARC provides support for data visualization by providing a table component.
The table component uses Grid.js and Preact under the hood to render the templates.

## Usage
You don't need any build tools to use the ARC table component.
Simply include and add the component in your project, like so:
```bash
# index.html
<body>
  <div id='app'></div>
  <script type='module'>
    import '@arc-web/components/dist/components/table/arc-table.js';
    const app = document.getElementById('app');
    app..appendChild(Object.assign(document.createElement('arc-table'), {
      columns: ["col1", "col2"],
      data: [["data1", "data2"], ["data3", "data4"]],
      fixedHeader: true,
      pagination: true,
      resizable: true,
      sort: true,
      search: true,
    }))
  </script>
</body>
```
When used within a framework, the structure might look a bit different from the code example.
All the available properties of the arc-table component can be found in the component's documentation.

### Columns
The `columns` property can be defined in one of the following ways:
```bash
  #Array of strings
  columns: ["Name", "Email", "Number"];

  #or

  #Array of TColumn objects
  columns: [
    { name: 'Name', sort: true},
    { name: 'Email', sort: false},
    { name: 'Number', sort: false, width: '50%'},
  ]
```

The `TColumn` object has the following available properties:
```bash
  id?: string,
  data?: function or TCell,
  name: string,
  width?: string,
  sort?: boolean,
  hidden?: boolean,
  formatter?: function,
  attributes?: HTMLAttributes or function
```

More information on this, can be found on the official [GridJS](https://gridjs.io/docs/examples/cell-formatting) docs.

### Data
The `data` property can be defined in one of the following ways:
```bash
  #Array of TCell arrays
  data: [
    ['John', 'john@example.com', '(353) 01 222 3333'],
    ['Mark', 'mark@gmail.com',   '(01) 22 888 4444'],
    ['Eoin', 'eo3n@yahoo.com',   '(05) 10 878 5554'],
    ['Nisen', 'nis900@gmail.com',   '313 333 1923']
  ];

  #or

  #Array of TCell objects
  data: [
    { name: 'John', email: 'john@example.com' },
    { name: 'Mark', email: 'mark@gmail.com' },
    { name: 'Eoin', email: 'eo3n@yahoo.com' },
    { name: 'Nisen', email: 'nis900@gmail.com' }
  ]
```

## Serialization
ARC provides support for various different languages:
* en_US
* es_ES
* fr_FR
* it_IT
* tr_TR

### Installing a locale
Import your language file first;
```bash
import { frFR } from "gridjs/l10n";
```

then pass it to the `language` setting of the arc-table component.
```bash
Object.assign(document.createElement('arc-table'), {
  ...allProps,
  language: frFR
})
```

### Custom table messages
ARC also provides a way to easily customize the messages and add your language.
Simply extend the `language` config to replace the strings:

```bash
Object.assign(document.createElement('arc-table'), {
  ...allProps,
  language: {
    'search': {
      'placeholder': '🔍 Search...'
    },
    'pagination': {
      'previous': '⬅️',
      'next': '➡️',
      'showing': '😃 Displaying',
      'results': 'Records'
    }
  }
})
```

Below a list of default properties that can be overwritten:
```bash
search: {
  placeholder: 'Type a keyword...',
},
sort: {
  sortAsc: 'Sort column ascending',
  sortDesc: 'Sort column descending',
},
pagination: {
    previous: 'Previous',
    next: 'Next',
    navigate: (page, pages) => `Page ${page} of ${pages}`,
    page: (page) => `Page ${page}`,
    showing: 'Showing',
    of: 'of',
    to: 'to',
    results: 'results',
},
loading: 'Loading...',
noRecordsFound: 'No matching records found',
error: 'An error happened while fetching the data',
```

More information on the arc-table component, can be found on the official [GridJS](https://gridjs.io/docs/examples/cell-formatting) docs.
